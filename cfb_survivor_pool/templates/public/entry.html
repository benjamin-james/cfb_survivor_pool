{% extends "layout.html" %}
{% block js %}
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script>
  function entryradio() {
    var row, el;
    $("input[type=radio]").click(function() {
	el = $(this);
	row = el.data("row");
	$("input[data-row=" + row + "]").prop("checked", false);
	el.prop("checked", true);
    });
}

  $(entryradio);
</script>
{% endblock %}
{% block content %}

{% if grid and teams and weeks %}
<h1> Schedule</h1>
<div class="form-check">
  <div class="row justify-content-center">
        <div class="col-auto">
<table class="table table-striped table-bordered table-responsive">
  <thead class="table-primary">
    <tr>
      <th scope="col">Team</th>
      {% for team in teams %}
        <th scope="col">{{ team }}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for week in weeks %}
    {% set outer_loop = loop %}
    <tr>
      <th scope="row" class="table-primary" >{{ week }}</th>
      {% for team in teams %}
      {% for t, w, present, chk in grid %}
      {% if t == team and w == week %}
        {% if present %}
          {% if chk %}
          <td> <label class="radio-inline"> <input class="form-check-input" style="vertical-align: middle; margin: 0px;" type="radio" name="{{week}}" data-row="{{team}}" aria-label="{{team}} {{week}}" checked></label></td>
          {% else %}
          <td> <label class="radio-inline"> <input class="form-check-input" style="vertical-align: middle; margin: 0px;" type="radio" name="{{week}}" data-row="{{team}}" aria-label="{{team}} {{week}}"></label></td>

          {% endif %}
      {% else %}
      <td></td>
      {% endif %}
      {% endif %}
      {% endfor %}

      {% endfor %}
    </tr>
    {% endfor %}
  </tbody>

</table>
</div>
</div>
</div>
{% endif %}
{% endblock %}
